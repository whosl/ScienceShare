(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-13478911"],{"0f50":function(t,e,s){"use strict";var n=s("2c23");t.exports=function(t,e){var s=[][t];return!s||!n((function(){s.call(null,e||function(){throw 1},1)}))}},"20b0":function(t,e,s){"use strict";function n(t){var e=new Date(t),s=e.getFullYear(),n=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,a=e.getDate()<10?"0"+e.getDate():e.getDate(),r=e.getHours()<10?"0"+e.getHours():e.getHours(),o=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),i=e.getSeconds()<10?"0"+e.getSeconds():e.getSeconds();return s+"-"+n+"-"+a+" "+r+":"+o+":"+i}s.d(e,"a",(function(){return n}))},"7b25":function(t,e,s){"use strict";var n=s("7145"),a=s("2a2b").indexOf,r=s("0f50"),o=[].indexOf,i=!!o&&1/[1].indexOf(1,-0)<0,c=r("indexOf");n({target:"Array",proto:!0,forced:i||c},{indexOf:function(t){return i?o.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},"8fc1":function(t,e,s){"use strict";var n=s("bbb8"),a=s.n(n);a.a},b488:function(t,e,s){var n=s("f3de"),a=s("aa96").f,r=Function.prototype,o=r.toString,i=/^\s*function ([^ (]*)/,c="name";!n||c in r||a(r,c,{configurable:!0,get:function(){try{return o.call(this).match(i)[1]}catch(t){return""}}})},bbb8:function(t,e,s){},d504:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"selfNotiAndPost"},[s("el-row",{attrs:{type:"flex",align:"top"}},[s("el-card",{staticClass:"self-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("center",[s("span",[t._v("你好!")])])],1),s("div",[s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"点击修改头像",placement:"top"}},[s("el-upload",{staticClass:"avatar-uploader",attrs:{action:"http://114.116.176.3:8000/uploadFile","show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[this.user.avatarUrl?s("img",{staticClass:"avatar",attrs:{src:this.user.avatarUrl}}):t._e()])],1)],1),s("div",[s("br"),s("span",[t._v("用户名 : "+t._s(this.user.username))]),s("br"),s("br"),s("span",[t._v("声望 : "+t._s(this.user.prestige))]),s("br"),s("br"),s("span",[t._v("注册邮箱 : "+t._s(this.user.emailAddress))]),s("br"),s("br"),s("span",[t._v("注册日期 : "+t._s(t.formattedDate))])]),s("br"),s("br"),s("div",[s("el-button",{attrs:{plain:""},on:{click:t.ToChange}},[t._v("修改密码")]),s("el-button",{attrs:{plain:""},on:{click:t.quit}},[t._v("注销")])],1)])],1)],1)])},a=[];s("b488"),s("31f7"),s("7b25");function r(t,e,s){var n=new Date;n.setSeconds(n.getSeconds()+s),document.cookie=t+"="+escape(e)+"; expires="+n.toGMTString(),console.log(document.cookie)}function o(t){if(document.cookie.length>0){var e=document.cookie.indexOf(t+"=");if(-1!=e){e=e+t.length+1;var s=document.cookie.indexOf(";",e);return-1==s&&(s=document.cookie.length),unescape(document.cookie.substring(e,s))}}return""}function i(t){r(t,"",-1)}var c=s("20b0"),u={data:function(){return{file:"",url:"",notiData:[],posts:[],read:"",user:"",reports:[],users:[],adm:!1,other:!1}},computed:{formattedDate:function(){return Object(c["a"])(this.user.createdDate)}},created:function(){var t=this,e=o("username");this.name=e,""==e&&this.$router.replace("/SignIn"),this.$axios.get("/getUser/".concat(this.name)).then((function(e){t.user=e.data,null==t.user.notiData&&(t.user.notiData=[]),t.user.permission>=2&&(t.adm=!0)})),this.$axios.get("getAllReports").then((function(e){t.reports=e.data||[]})),this.$axios.get("allMutedUser").then((function(e){t.users=e.data||[]})),this.getLatestPosts(this.name)},methods:{ToChange:function(){this.$router.push("/changePassword")},quit:function(){i("username"),this.$store.dispatch("quit"),this.$router.replace("/login")},handleAvatarSuccess:function(t,e){200===t.code?(this.url=t.message,this.user.avatarUrl=this.url,this.$store.dispatch("changeAvatar"),this.$axios.post("/uploadAvatar",{username:this.name,avatarUrl:this.url}).then((function(t){console.log(t)}))):300===t.code?console.log("not exist"):400===t.code&&console.log("fail"),location.reload()},beforeAvatarUpload:function(t){var e="image/jpeg"===t.type,s="image/png"===t.type,n=t.size/1024/1024<2;return e||s||this.$message.error("上传头像图片只能是 JPG或PNG格式!"),n||this.$message.error("上传头像图片大小不能超过 2MB!"),(s||e)&&n},getLatestPosts:function(){var t=this;this.$axios.get("findLatestPostsByAuthor",{params:{author:this.name}}).then((function(e){t.posts=e.data||[]})).catch((function(t){console.log(t)}))}}},l=u,d=(s("8fc1"),s("4e82")),h=Object(d["a"])(l,n,a,!1,null,null,null);e["default"]=h.exports}}]);